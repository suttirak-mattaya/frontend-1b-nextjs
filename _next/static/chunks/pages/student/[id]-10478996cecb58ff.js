(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{2822:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/student/[id]",function(){return i(5967)}])},5967:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return C}});var t=i(1799),r=i(603),s=i(7297),o=i(5893),c=i(536),d=i.n(c),a=i(7283),l=i(5850),u=i(9226),p=i(5861),h=i(9661),x=i(7294),f=i(5417),m=i(4209),_=i(5392),b=i(3261),j=i(712),g=i(1163),y=i(686);function Z(){var e=(0,s.Z)(['\n    query {\n    student(filter: {std_id:{_eq:"','"}}) {\n      std_id,\n      name,\n      profile_picture {\n        id\n      }\n      faculty,\n      sub_faculty,\n      degree,\n      email,\n      phone_number\n      advisor {\n        id\n        profile_picture {\n          id\n        }\n        name\n      },\n      subjects {\n        subject_id {\n          subject_id,\n          section,\n          subject_name,\n          study_times {\n            study_time_id {\n              day,\n              start_hour,\n              end_hour\n            }\n          }\n        }\n      }\n    }\n  }\n  ']);return Z=function(){return e},e}function v(e){return(0,o.jsx)(u.Z,{flexGrow:1,ml:1,height:"80%",borderRadius:"18px",display:"flex",alignItems:"center",justifyContent:"center",sx:e.condition?{bgcolor:"black",color:"white"}:{cursor:"pointer"},onClick:e.onClick,children:(0,o.jsx)(p.Z,{children:e.value})})}var w={std_id:"id",name:"name",profile_picture:{id:""},faculty:"faculty",sub_faculty:"sub_faculty",degree:"y1",email:"",phone_number:"",advisor:{id:"",profile_picture:{id:""},name:"advisor"},subjects:[]};function k(){var e,n=(0,r.Z)(x.useState("profile"),2),i=n[0],s=n[1],c=(0,g.useRouter)().query.id,y=(0,r.Z)(x.useState(w),2),k=y[0],C=y[1],S=(0,l.a)((e=c||"",(0,a.Ps)(Z(),e)),{onCompleted:function(e){console.log(e),C((0,t.Z)({},e.student[0]))}}),E=S.loading,N=S.error;return E?(0,o.jsx)("p",{children:"Loading..."}):N?(0,o.jsx)("p",{children:"Error :("}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.Z,{}),(0,o.jsxs)(u.Z,{width:"88%",mx:"6%",height:"144px",position:"fixed",bgcolor:"#edebe9",children:[(0,o.jsxs)(u.Z,{width:"100%",height:"70%",display:"flex",alignItems:"center",justifyContent:"flex-start",p:"16px",children:[(0,o.jsx)(h.Z,{src:k.profile_picture&&""!=k.profile_picture.id?"http://localhost:8055/assets/".concat(k.profile_picture.id):"",alt:"",sx:{width:"58px",height:"58px"}}),(0,o.jsxs)(u.Z,{ml:2,children:[(0,o.jsx)(p.Z,{children:k.name}),(0,o.jsx)(p.Z,{children:k.degree})]})]}),(0,o.jsxs)(u.Z,{width:"100%",height:"30%",borderTop:"2px solid gray",borderBottom:"2px solid gray",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",sx:{userSelect:"none"},children:[(0,o.jsx)(v,{condition:"profile"===i,value:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b",onClick:function(){return s("profile")}}),(0,o.jsx)(v,{condition:"subject"===i,value:"\u0e27\u0e34\u0e0a\u0e32\u0e17\u0e35\u0e48\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19",onClick:function(){return s("subject")}})]})]}),(0,o.jsx)(u.Z,{width:"88%",mx:"6%",height:"144px"}),"profile"===i&&(0,o.jsxs)(u.Z,{width:"88%",mx:"6%",mt:"12px",display:"flex",alignItems:"flex-start",justifyContent:"center",children:[(0,o.jsxs)(u.Z,{width:"calc(65% - 6px)",mr:"6px",bgcolor:"white",borderRadius:"6px",p:"16px",children:[(0,o.jsxs)(u.Z,{width:"100%",children:[(0,o.jsx)(p.Z,{variant:"h5",children:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b"}),(0,o.jsx)(_.Z,{content:[{topic:"\u0e23\u0e2b\u0e31\u0e2a\u0e19\u0e31\u0e01\u0e28\u0e36\u0e01\u0e29\u0e32",info:k.std_id},{topic:"\u0e0a\u0e37\u0e48\u0e2d-\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25",info:k.name},{topic:"\u0e04\u0e13\u0e30",info:k.faculty},{topic:"\u0e20\u0e32\u0e04\u0e27\u0e34\u0e0a\u0e32",info:k.sub_faculty}]})]}),k.advisor&&(0,o.jsxs)(u.Z,{width:"100%",children:[(0,o.jsx)(p.Z,{variant:"h5",children:"\u0e2d\u0e32\u0e08\u0e32\u0e23\u0e22\u0e4c\u0e17\u0e35\u0e48\u0e1b\u0e23\u0e36\u0e01\u0e29\u0e32"}),(0,o.jsx)(f.m,{profile_url:k.advisor.profile_picture&&""!=k.advisor.profile_picture.id?"http://localhost:8055/assets/".concat(k.advisor.profile_picture.id):"",name:k.advisor.name,id:k.advisor.id,type:"teacher"})]})]}),(0,o.jsxs)(u.Z,{width:"calc(35% - 6px)",ml:"6px",bgcolor:"white",borderRadius:"6px",p:"16px",children:[(0,o.jsx)(p.Z,{variant:"h5",children:"\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d"}),(0,o.jsx)(m.r,{phone_numbers:k.phone_number&&""!=k.phone_number?[k.phone_number]:[],emails:""!=k.email&&k.email?["".concat(k.std_id,"@psu.ac.th"),"".concat(k.std_id,"@email.psu.ac.th"),k.email]:["".concat(k.std_id,"@psu.ac.th"),"".concat(k.std_id,"@email.psu.ac.th")]})]})]}),"subject"===i&&(0,o.jsx)(u.Z,{width:"88%",mx:"6%",mt:"12px",position:"relative",children:(0,o.jsx)(j.Z,{subjectData:k.subjects})}),(0,o.jsx)(d(),{id:"680e5df8390cba0a",children:"html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;background:#edebe9}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}"})]})}function C(){return(0,o.jsx)(y.Z,{children:(0,o.jsx)(k,{})})}}},function(e){e.O(0,[774,235,175,594,549,888,179],(function(){return n=2822,e(e.s=n);var n}));var n=e.O();_N_E=n}]);